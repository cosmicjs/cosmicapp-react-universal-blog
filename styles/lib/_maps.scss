// ----
// Sass (v3.3.0.rc.2)
// Compass (v1.0.0.alpha.17)
// ----

//
// map-fetch($map, $keys)
//
// An easy way to fetch a deep value in a multi-level map. Works much like
// map-get() except that you pass multiple keys as the second parameter to
// go down multiple levels in the nested map.
//
@function map-fetch($map, $keys) {
  $key: nth($keys, 1);
  $length: length($keys);
  $value: map-get($map, $key);
  @if ($length > 1) {
    $rest: ();
    @for $i from 2 through $length {
      $rest: append($rest, nth($keys, $i))
    }
    @return map-fetch($value, $rest)
  } @else {
    @return $value;
  }
}

$config: (
  themes: (
    mist: (
      header: #dcfac0,
      content: #00968b,
      footer: #85c79c
    ),
    spring: (
      header: #f4fac7,
      content: #c2454e,
      footer: #ffb158
    )
  )
);

@each $theme in map-keys(map-get($config, themes)) {

  .#{$container-width} {
    .header  { background-color: map-fetch($config, themes $theme header  ); }
    .content { background-color: map-fetch($config, themes $theme content ); }
    .footer  { background-color: map-fetch($config, themes $theme footer  ); }
  }

}
